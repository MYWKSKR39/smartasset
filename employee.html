<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SmartAsset - Employee</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="employee.css" />
</head>
<body>
  <header class="navbar">
    <div class="brand">SmartAsset</div>
    <div class="menu-icon">
      <span></span><span></span><span></span>
    </div>
  </header>

  <section class="hero">
    <h1>SmartAsset</h1>
    <p>View IT assets and submit borrow requests</p>
    <div class="user-bar">
      <span class="pill">Logged in as: <span id="userEmail">Loading...</span></span>
      <button id="logoutBtn" class="btn">Logout</button>
    </div>
  </section>

  <main>
    <div class="content-wrapper">

      <!-- top row: current assets + borrow form -->
      <div class="cards-row">
        <!-- Current assets -->
        <section class="content-card card-half">
          <div class="content-header">
            <h2>Current assets</h2>
          </div>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>Asset ID</th>
                  <th>Name</th>
                  <th>Category</th>
                  <th>Owner</th>
                  <th>Location</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="assetTableBody">
                <tr><td colspan="6">Loading assets...</td></tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Borrow request form -->
        <section class="content-card card-half">
          <div class="content-header">
            <h2>Borrow request</h2>
          </div>

          <form id="borrowForm" class="borrow-form">
            <div class="form-group">
              <label for="assetIdInput">Asset ID</label>
              <input id="assetIdInput" type="text" placeholder="e.g. IT00354" required />
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="startDateInput">Start date</label>
                <input id="startDateInput" type="date" required />
              </div>
              <div class="form-group">
                <label for="endDateInput">End date</label>
                <input id="endDateInput" type="date" required />
              </div>
            </div>

            <div class="form-group">
              <label for="reasonInput">Reason or notes</label>
              <textarea id="reasonInput" rows="3" placeholder="Why do you need this asset?"></textarea>
            </div>

            <button type="submit" class="btn-primary">Submit request</button>
            <p id="borrowMessage" class="helper-text"></p>
          </form>
        </section>
      </div>

      <!-- bottom row: my requests -->
      <section class="content-card full-width-card">
        <div class="content-header">
          <h2>My borrow requests</h2>
        </div>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Asset ID</th>
                <th>Start date</th>
                <th>End date</th>
                <th>Reason</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody id="myRequestTableBody">
              <tr><td colspan="5">Loading requests...</td></tr>
            </tbody>
          </table>
        </div>
      </section>

    </div>
  </main>

  <footer>
    &copy; 2025 SmartAsset. All rights reserved.
  </footer>

  <script type="module" src="employee.js"></script>
</body>
</html>
